<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Mengzhuo You</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Graduate Student, Computer Science, University Of Southern California">
<meta property="og:type" content="website">
<meta property="og:title" content="Mengzhuo You">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Mengzhuo You">
<meta property="og:description" content="Graduate Student, Computer Science, University Of Southern California">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Mengzhuo You">
<meta name="twitter:description" content="Graduate Student, Computer Science, University Of Southern California">
  
    <link rel="alternate" href="/atom.xml" title="Mengzhuo You" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Mengzhuo You</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Suche"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Basic-Knowledge" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/17/Basic-Knowledge/" class="article-date">
  <time datetime="2018-02-18T04:37:21.000Z" itemprop="datePublished">2018-02-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/17/Basic-Knowledge/">Basic Knowledge</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="1-函数调用过程中，第一个进栈的是（主函数中的）调用处的下一条指令（即函数调用语句的下一条可执行语句）的地址；然后是函数的各个参数，而在大多数C-C-编译器中，在函数调用的过程中，函数的参数是由右向左入栈的；然后是函数内部的局部变量（注意static变量是不入栈的）；在函数调用结束（函数运行结束）后，局部变量最先出栈，然后是参数，最后栈顶指针指向最开始存的指令地址，程序由该点继续运行。"><a href="#1-函数调用过程中，第一个进栈的是（主函数中的）调用处的下一条指令（即函数调用语句的下一条可执行语句）的地址；然后是函数的各个参数，而在大多数C-C-编译器中，在函数调用的过程中，函数的参数是由右向左入栈的；然后是函数内部的局部变量（注意static变量是不入栈的）；在函数调用结束（函数运行结束）后，局部变量最先出栈，然后是参数，最后栈顶指针指向最开始存的指令地址，程序由该点继续运行。" class="headerlink" title="1.函数调用过程中，第一个进栈的是（主函数中的）调用处的下一条指令（即函数调用语句的下一条可执行语句）的地址；然后是函数的各个参数，而在大多数C/C++编译器中，在函数调用的过程中，函数的参数是由右向左入栈的；然后是函数内部的局部变量（注意static变量是不入栈的）；在函数调用结束（函数运行结束）后，局部变量最先出栈，然后是参数，最后栈顶指针指向最开始存的指令地址，程序由该点继续运行。"></a>1.函数调用过程中，第一个进栈的是（主函数中的）调用处的下一条指令（即函数调用语句的下一条可执行语句）的地址；然后是函数的各个参数，而在大多数C/C++编译器中，在函数调用的过程中，函数的参数是由右向左入栈的；然后是函数内部的局部变量（注意static变量是不入栈的）；在函数调用结束（函数运行结束）后，局部变量最先出栈，然后是参数，最后栈顶指针指向最开始存的指令地址，程序由该点继续运行。</h3><h3 id="2-网络分层协议"><a href="#2-网络分层协议" class="headerlink" title="2.网络分层协议"></a>2.网络分层协议</h3><p>OSI模型有7层结构，每层都可以有几个子层。 OSI的7层从上到下分别是 </p>
<h4 id="7-应用层"><a href="#7-应用层" class="headerlink" title="7 应用层"></a>7 应用层</h4><p>当用户使用浏览器来打开网页时，需要利用DNS提供的域名解析服务，来获取网址对应的IP地址，然后再通过另外一个协议HTTP来下载页面内容。在这个过程中出现的两个协议（DNS和HTTP）都是工作在应用层上的协议。</p>
<p>应用层的其他常用协议：</p>
<p>FTP：文件传输协议，用来在客户机和FTP服务器之间传输文件。<br>DHCP：动态主机配置协议，DHCP服务器为客户机动态分配IP地址。<br>POP3：邮件接收协议，用于从POP3服务器接收邮件。<br>SMTP：邮件发送协议，用户通过SMTP服务器发送邮件。</p>
<h4 id="6-表示层"><a href="#6-表示层" class="headerlink" title="6 表示层"></a>6 表示层</h4><p>这里的“表示”是指数据的表示。<br>该层的主要功能：转换，压缩和加密。<br>工作在表示层的加密协议最常用的是SSL(Secure Sockets Layer)。</p>
<h4 id="5-会话层"><a href="#5-会话层" class="headerlink" title="5 会话层"></a>5 会话层</h4><p>可以把“会话”理解为两个应用程序进程之间的逻辑连接，两个应用程序通过这个逻辑连接在一段时间内交换数据。会话层的作用就是为创建、管理和终止会话提供必要的方法。这些方法一般以API(Application Program Interface，应用程序编程接口)的形式出现。常用的API由NetBIOS(Network Basic Input/Output System，网络基本输入/输出系统)、RPC(Remote Procedure Call，远程过程调用)和Socket API。</p>
<h4 id="4-传输层"><a href="#4-传输层" class="headerlink" title="4 传输层"></a>4 传输层</h4><p>传输层提供数据传输的服务。这里的“传输”指的是端对端（End-to-End）或者主机对主机（Host-to-Host）的传输。</p>
<p>传输层上最重要的两个协议是TCP和UDP。TCP是面向连接的协议（Connection-Oriented），UDP是无连接的协议(Connection-Less)。</p>
<p>TCP(Transmission Control Protocol，传输控制协议)</p>
<p>TCP在传输数据之前必须先建立一个连接。TCP做了很多工作来提供可靠的数据传输，包括建立、管理和终止连接，确认和重传。同时TCP还提供分段和重组，流量控制（Flow Control）等。</p>
<p>UDP(User Datagram Protocol，用户数据报协议)</p>
<p>UDP是一种简单的传输层协议，所以它并不能提供可靠的数据传输。简单地说，UDP只是把应用程序发给它的数据打包成一个UDP数据报（UDP Datagram），然后再把这个数据报传给IP。<br>TCP会把应用程序发来的数据根据需要分成若干个大小合适的TCP段（TCP Segment），而UDP却只是简单地把所有发送来的数据打包成一个UDP数据报，所以我们在编写使用UDP的程序时，不能一次性向UDP写入太多数据，否则可能会导致IP分段的后果。</p>
<p>由于可能有很多应用程序同时在使用TCP/UDP，它们都会把数据交给TCP/UDP，而TCP/UDP也会接收来自IP的、包含指向不同应用程序的数据，所以就需要有一种方法来区别（标识）应用程序，这种方法就是通过端口号（Port）来进行多路复用或多路分解。端口号是一个16位的二进制整数，其取值范围是0~65535。</p>
<p>多路复用(Multiplexing)<br>多路复用是只当应用程序把数据交给TCP或UDP时，TCP会把这些数据分成若干个TCP段，UDP则会产生一个UDP数据报。在这些TCP段和UDP数据报中，会填入应用程序指定的源端口号和目标端口号，源端口号用于标识发送的应用程序（进程），目标端口号用于指明在目标机器上应该接收数据的目标应用程序。</p>
<p>多路分解(Demultiplexing)<br>多路分解是多路复用的逆过程。当在目标机器上的TCP或者UDP接收到TCP段和UDP数据报时，会检查它们的目标端口号，然后根据不同的目标端口号把数据分发给不同的应用程序（进程）。</p>
<h4 id="3-网络层"><a href="#3-网络层" class="headerlink" title="3 网络层"></a>3 网络层</h4><p>网络层关心的主要是如何把数据从一个设备发送到另一个设备。网络层需要提供三个最基本的功能：地址、路由、分段和重组。同时还需要一些附加的功能，比如错误处理和诊断。</p>
<p>网络层上最重要的协议IP（Internet Protocol），就是为了这些功能而设计的。</p>
<h4 id="2-数据链路层"><a href="#2-数据链路层" class="headerlink" title="2 数据链路层"></a>2 数据链路层</h4><p>网络层关心的是如何把数据从一个设备发送到另外一个设备，这另外一个设备有可能在本地网络中或者在一个很远的网络中。数据链路层关心的是如何把数据发送到本地网络中去。我们平时常说的LAN（Local Area Network，局域网）技术，如以太网（Ethernet）、令牌环网（Token Ring）、光纤分布数据接口（FDDI）和802.11（WiFi）都定义在这一层。<br>数据链路层又分为两个子层：逻辑链路控制层(Logical Link Control)和介质访问控制层(Media Access Control)。</p>
<p>数据链路层还有一个重要的概念，即MAC地址，也有人称其为物理地址、硬件地址、以太网地址等。每一个网卡（Network Interface Card）都有一个唯一的MAC地址，数据链路层通过MAC地址来确保数据能够正确被发送到目标设备。MAC地址是一个48位二进制整数，通常的表示方法是用-隔开的6个十六进制整数，如14-FE-B5-B0-2B-96。</p>
<h4 id="1-物理层"><a href="#1-物理层" class="headerlink" title="1 物理层"></a>1 物理层</h4><p>物理层位于OSI的底层，所有其他层的数据最终都必须经由物理层才能发送出去。物理层的功能包括：</p>
<p>硬件规范的定义，如电缆、连接器、无线接收器等的工作方式，网卡、集线器（Hub）等网络设备也工作在物理层。<br>编码和信号，物理层把计算机中的二进制0和1转换成可以在物理介质上传输的信号。<br>在把数据转换成信号后（如对于双绞线电缆则是电子脉冲信号），物理层负责信号的实际发送和接收</p>
<h3 id="分类和聚类的区别"><a href="#分类和聚类的区别" class="headerlink" title="分类和聚类的区别"></a>分类和聚类的区别</h3><p>分类简单来说，就是根据文本的特征或属性，划分到已有的类别中。也就是说，这些类别是已知的，通过对已知分类的数据进行训练和学习，找到这些不同类的特征，再对未分类的数据进行分类。<br>而聚类的理解更简单，就是你压根不知道数据会分为几类，通过聚类分析将数据或者说用户聚合成几个群体，那就是聚类了。聚类不需要对数据进行训练和学习。</p>
<p>分类属于监督学习，聚类属于无监督学习。<br>常见的分类比如决策树分类算法、贝叶斯分类算法等。<br>聚类的算法最基本的有系统聚类，K-means均值聚类。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/02/17/Basic-Knowledge/" data-id="cjdsc9vmp0000tsf23j7lqah5" class="article-share-link">Teilen</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Cracking-the-Interview/">Cracking the Interview</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-GBDT-梯度下降树" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/17/GBDT-梯度下降树/" class="article-date">
  <time datetime="2018-02-18T04:15:21.000Z" itemprop="datePublished">2018-02-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/17/GBDT-梯度下降树/">GBDT 梯度下降树</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="1-介绍"><a href="#1-介绍" class="headerlink" title="1.介绍"></a>1.介绍</h3><p>gbdt 是通过采用加法模型（即基函数的线性组合），以及不断减小训练过程产生的残差来达到将数据分类或者回归的算法。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/02/17/GBDT-梯度下降树/" data-id="cjdsc9vne0008tsf2c383zjbp" class="article-share-link">Teilen</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Deep-Learning/">Deep Learning</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Deep-Learning-2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/17/Deep-Learning-2/" class="article-date">
  <time datetime="2018-02-18T03:10:31.000Z" itemprop="datePublished">2018-02-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/17/Deep-Learning-2/">Deep Learning(2)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="1-svm-是什么"><a href="#1-svm-是什么" class="headerlink" title="1.svm 是什么"></a>1.svm 是什么</h3><p>support vector machine. SVM 就是个分类器，它用于回归的时候称为SVR（Support Vector Regression），SVM和SVR本质上都一样。下图就是SVM分类：</p>
<p><img src="https://static.leiphone.com/uploads/new/article/740_740/201705/5927d68171f42.jpg?imageMogr2/format/jpg/quality/90" alt="SVM分类"></p>
<p>边界上的点就是支持向量，这些点很关键，这也是”支持向量机“命名的由来.</p>
<p>SVM的目的：寻找到一个超平面使样本分成两类，并且间隔最大。而我们求得的w就代表着我们需要寻找的超平面的系数。</p>
<p>用数学语言描述：<br><img src="https://static.leiphone.com/uploads/new/article/740_740/201705/5927d69b301f3.jpg?imageMogr2/format/jpg/quality/90" alt=""><br>这就是SVM的基本型。</p>
<h3 id="2-核函数"><a href="#2-核函数" class="headerlink" title="2.核函数"></a>2.核函数</h3><p>现实任务中，原始样本空间也许并不能存在一个能正确划分出两类样本的超平面，而且这是很经常的事。你说说要是遇到这样的数据，怎么划分好呢：<br><img src="https://static.leiphone.com/uploads/new/article/740_740/201705/5927d7bb67d35.jpg?imageMogr2/format/jpg/quality/90" alt=""><br>于是引入了一个新的概念：核函数。它可以将样本从原始空间映射到一个更高维的特质空间中，使得样本在这个新的高维空间中可以被线性划分为两类，即在空间内线性划分。</p>
<p>这个过程可以观看视频感受感受:<br><img src="https://www.youtube.com/watch?v=3liCbRZPrZA" alt="vedio"></p>
<p>核函数的选择变成了支持向量机的最大变数（如果必须得用上核函数，即核化），因此选用什么样的核函数会影响最后的结果。而最常用的核函数有：线性核、多项式核、高斯核、拉普拉斯核、sigmoid核、通过核函数之间的线性组合或直积等运算得出的新核函数。</p>
<h3 id="3-svm和LR的区别"><a href="#3-svm和LR的区别" class="headerlink" title="3.svm和LR的区别"></a>3.svm和LR的区别</h3><p>两种方法都是常见的分类算法，从目标函数来看，区别在于逻辑回归采用的是logistical loss，svm采用的是hinge loss。这两个损失函数的目的都是增加对分类影响较大的数据点的权重，减少与分类关系较小的数据点的权重。SVM的处理方法是只考虑support vectors，也就是和分类最相关的少数点，去学习分类器。而逻辑回归通过非线性映射，大大减小了离分类平面较远的点的权重，相对提升了与分类最相关的数据点的权重。两者的根本目的都是一样的。此外，根据需要，两个方法都可以增加不同的正则化项，如l1,l2等等。所以在很多实验中，两种算法的结果是很接近的。</p>
<p>但是逻辑回归相对来说模型更简单，好理解，实现起来，特别是大规模线性分类时比较方便。而SVM的理解和优化相对来说复杂一些。但是SVM的理论基础更加牢固，有一套结构化风险最小化的理论基础，虽然一般使用的人不太会去关注。还有很重要的一点，SVM转化为对偶问题后，分类只需要计算与少数几个支持向量的距离，这个在进行复杂核函数计算时优势很明显，能够大大简化模型和计算量。</p>
<p>总结：在Andrew NG的课里讲到过：</p>
<ol>
<li>如果Feature的数量很大，跟样本数量差不多，这时候选用LR或者是Linear Kernel的SVM</li>
<li>如果Feature的数量比较小，样本数量一般，不算大也不算小，选用SVM+Gaussian Kernel</li>
<li>如果Feature的数量比较小，而样本数量很多，需要手工添加一些feature变成第一种情况</li>
</ol>
<h3 id="4-LR中为什么要离散化"><a href="#4-LR中为什么要离散化" class="headerlink" title="4.LR中为什么要离散化"></a>4.LR中为什么要离散化</h3><p>在工业界，很少直接将连续值作为逻辑回归模型的特征输入，而是将连续特征离散化为一系列0、1特征交给逻辑回归模型，这样做的优势有以下几点：</p>
<ol>
<li>离散特征的增加和减少都很容易，易于模型的快速迭代；</li>
<li>稀疏向量内积乘法运算速度快，计算结果方便存储，容易扩展；</li>
<li>离散化后的特征对异常数据有很强的鲁棒性：比如一个特征是年龄&gt;30是1，否则0。如果特征没有离散化，一个异常数据“年龄300岁”会给模型造成很大的干扰；</li>
<li>逻辑回归属于广义线性模型，表达能力受限；单变量离散化为N个后，每个变量有单独的权重，相当于为模型引入了非线性，能够提升模型表达能力，加大拟合；</li>
<li>离散化后可以进行特征交叉，由M+N个变量变为M*N个变量，进一步引入非线性，提升表达能力；</li>
<li>特征离散化后，模型会更稳定，比如如果对用户年龄离散化，20-30作为一个区间，不会因为一个用户年龄长了一岁就变成一个完全不同的人。当然处于区间相邻处的样本会刚好相反，所以怎么划分区间是门学问；</li>
<li>特征离散化以后，起到了简化了逻辑回归模型的作用，降低了模型过拟合的风险。</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/02/17/Deep-Learning-2/" data-id="cjdsc9vn90005tsf2huxnabw6" class="article-share-link">Teilen</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Deep-Learning/">Deep Learning</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Deep-Learning-1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/17/Deep-Learning-1/" class="article-date">
  <time datetime="2018-02-17T23:53:18.000Z" itemprop="datePublished">2018-02-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/17/Deep-Learning-1/">Deep Learning(1)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="卷积层"><a href="#卷积层" class="headerlink" title="卷积层"></a>卷积层</h2><p>卷积神经网络的第一层是卷积层，第一件事是你要记住卷积层的输入时什么。像我们之前提到的，输入的是一个32×32×3的系列像素值。解释卷积层的最好方式是想象一个手电筒正在图像的左上方进行照射，假设手电照射的区域是5 x 5的范围。再想象下这个手电筒在输入图像的各个区域进行滑动。在机器学习术语中，这个手电筒叫做过滤器（有时候也称为神经元或者核心），它照射着的区域被称为接受场。这个过滤器也是一系列的数据（这些数据被称为权重或者参数）。必须提到的是这个过滤器的深度必须是和输入的深度相同（这样才能保证数学正常工作），所以这个过滤器的尺寸是5×5×3。</p>
<p>现在，让我们先拿第一个位置的过滤器为例。由于过滤器在输入图像上是滑动或卷积的，它是相乘的值在滤波器的原始图像的像素值（又名计算元素的乘法），这些乘法全部相加（从数学上讲，这将是75次乘法总和）。所以现在你有一个数字。请记住，这个数字只是当过滤器在图像的左上角时才有代表性，现在我们在每一个位置上重复这个过程。（下一步将过滤器移动到右边的1个单位，然后再向右移动1个单位，等等），每一个输入层上独特的位置都会产生一个数字。将过滤器滑动完所有位置的，你会发现剩下的是一个28×28×1的系列数字，我们称之为激活图或者特征图。你得到一个28×28阵列的原因是有784个不同的位置，一个5×5的过滤器可以适配一个32×32的输入图像，这组784个数字可以被映射到一个28×28阵列。</p>
<p><img src="https://static.leiphone.com/uploads/new/article/740_740/201607/579b29837408f.png?imageMogr2/format/jpg/quality/90" alt="原始图中的5*5*3部分转换为特征图中的第一个点"></p>
<p>目前我们使用两个5 x 5 x 3的过滤器，我们的输出量将是28×28×2。通过使用更多的过滤器，我们能够更好地维持空间尺寸。在数学层面上来说，这些是在一个卷积层中进行的任务。</p>
<h2 id="池化层／采样层"><a href="#池化层／采样层" class="headerlink" title="池化层／采样层"></a>池化层／采样层</h2><p>通过卷积层获得了图像的特征之后，理论上我们可以直接使用这些特征训练分类器（如softmax），但是这样做将面临巨大的计算量的挑战，而且容易产生过拟合的现象。为了进一步降低网络训练参数及模型的过拟合程度，我们对卷积层进行池化/采样(Pooling)处理。池化/采样的方式通常有以下两种：</p>
<p>Max-Pooling: 选择Pooling窗口中的最大值作为采样值；<br>Mean-Pooling: 将Pooling窗口中的所有值相加取平均，以平均值作为采样值；<br>如下图所示。</p>
<p><img src="http://i.imgur.com/bHBUsr4.png" alt="Pooling"></p>
<h3 id="LeNet-5-网络详解"><a href="#LeNet-5-网络详解" class="headerlink" title="LeNet-5 网络详解"></a>LeNet-5 网络详解</h3><p><img src="http://i.imgur.com/2AuotA0.png" alt=""><br><img src="http://i.imgur.com/Zzm048o.png" alt=""><br><img src="http://i.imgur.com/aJlgVHg.png" alt=""><br><img src="http://i.imgur.com/SiVPyWR.png" alt=""><br><img src="http://i.imgur.com/gTphBu6.png" alt=""><br><img src="http://i.imgur.com/6L3CmUc.png" alt=""><br><img src="http://i.imgur.com/SNLgNWe.png" alt=""><br><img src="http://i.imgur.com/kJtbaEz.png" alt=""><br><img src="http://i.imgur.com/cXSxkVY.png" alt=""></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/02/17/Deep-Learning-1/" data-id="cjdsc9vn40004tsf234vjk2dj" class="article-share-link">Teilen</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Deep-Learning/">Deep Learning</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-PHP-Tutorial" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/17/PHP-Tutorial/" class="article-date">
  <time datetime="2018-02-17T22:03:09.000Z" itemprop="datePublished">2018-02-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/17/PHP-Tutorial/">PHP_Tutorial</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="1-Post-method-sends-all-contents-of-a-form-with-basically-hidden-headers-not-easily-visible-to-users"><a href="#1-Post-method-sends-all-contents-of-a-form-with-basically-hidden-headers-not-easily-visible-to-users" class="headerlink" title="1.Post method sends all contents of a form with basically hidden headers (not easily visible to users)"></a>1.Post method sends all contents of a form with basically hidden headers (not easily visible to users)</h3><h3 id="2-Get-method-sends-all-form-input-in-the-URL-requested-using-name-value-pairs-separated-by-ampersands-amp"><a href="#2-Get-method-sends-all-form-input-in-the-URL-requested-using-name-value-pairs-separated-by-ampersands-amp" class="headerlink" title="2.Get method sends all form input in the URL requested using name=value pairs separated by ampersands (&amp;)"></a>2.Get method sends all form input in the URL requested using name=value pairs separated by ampersands (&amp;)</h3><ul>
<li>E.g., process.php?name=trevor&amp;number=345 </li>
<li>Is visible in the URL shown in the browser</li>
</ul>
<h3 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h3><ul>
<li>Form elements contain input elements</li>
<li>Each input element has an id</li>
<li>If a form is posted, the file stated as the action can use:<br>$_POST[“inputid”]</li>
<li>If a form uses the get method:<br>$_GET[“inputid”]</li>
</ul>
<h3 id="PHP-Sessions-store-the-information-on-the-web-server-in-a-location-that-you-chose-in-special-files-These-files-are-connected-to-the-user’s-web-browser-via-the-server-and-a-special-ID-called-a-“Session-ID”-This-is-virtually-invisible-to-the-user"><a href="#PHP-Sessions-store-the-information-on-the-web-server-in-a-location-that-you-chose-in-special-files-These-files-are-connected-to-the-user’s-web-browser-via-the-server-and-a-special-ID-called-a-“Session-ID”-This-is-virtually-invisible-to-the-user" class="headerlink" title="PHP Sessions store the information on the web server in a location that you chose in special files. These files are connected to the user’s web browser via the server and a special ID called a “Session ID”. This is virtually invisible to the user."></a>PHP Sessions store the information on the web server in a location that you chose in special files. These files are connected to the user’s web browser via the server and a special ID called a “Session ID”. This is virtually invisible to the user.</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/02/17/PHP-Tutorial/" data-id="cjdsc9vo7000vtsf2o718ugg1" class="article-share-link">Teilen</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PHP/">PHP</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Counter-php" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/17/Counter-php/" class="article-date">
  <time datetime="2018-02-17T21:55:24.000Z" itemprop="datePublished">2018-02-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/17/Counter-php/">Counter.php</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">Simple counter script</span><br><span class="line">$ourFileName = <span class="string">"counter.txt"</span>;</span><br><span class="line">$ourFileHandle = fopen($ourFileName, <span class="string">"r"</span>) <span class="keyword">or</span> <span class="keyword">die</span>(<span class="string">"can't open file"</span>);</span><br><span class="line">$num = fread($ourFileHandle, filesize($ourFileName));</span><br><span class="line">fclose($ourFileHandle);</span><br><span class="line">$ourFileHandle = fopen($ourFileName,<span class="string">"w"</span>) <span class="keyword">or</span> <span class="keyword">die</span>(<span class="string">"can't open file"</span>);</span><br><span class="line">$num++;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"&lt;h1&gt;Welcome Visitor #"</span> . $num . <span class="string">"&lt;/h1&gt;"</span>;</span><br><span class="line">fwrite($ourFileHandle, $num);</span><br><span class="line">fclose($ourFileHandle);</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line">&lt;h3&gt;Simple Counter PHP Example&lt;/h3&gt;</span><br><span class="line">&lt;ol&gt;</span><br><span class="line">&lt;li&gt;The PHP script reads in the txt file <span class="keyword">and</span> gets the current</span><br><span class="line">   value.&lt;/li&gt;</span><br><span class="line">&lt;li&gt;Then, it increments that current value by <span class="number">1</span>, prints out the visitor <span class="comment">#, and writes it to the file.&lt;/li&gt;</span></span><br><span class="line">&lt;/ol&gt;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/02/17/Counter-php/" data-id="cjdsc9vn30003tsf2z3qgd480" class="article-share-link">Teilen</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PHP/">PHP</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Least-Common-Ancester" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/13/Least-Common-Ancester/" class="article-date">
  <time datetime="2018-02-14T06:31:42.000Z" itemprop="datePublished">2018-02-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/13/Least-Common-Ancester/">Least Common Ancester</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="最近公共祖先-问题"><a href="#最近公共祖先-问题" class="headerlink" title="最近公共祖先 问题"></a>最近公共祖先 问题</h1><p>今天面了Wish， 一共两道coding，做的时候觉得还行，后来上网查了资料后，觉得对于<code>最近公共祖先</code> 这类问题，掌握的还是不够，所以趁热总结了一下，希望下次遇到的时候，能解的更好。</p>
<h2 id="类型1-是一棵二叉搜索树"><a href="#类型1-是一棵二叉搜索树" class="headerlink" title="类型1 是一棵二叉搜索树"></a>类型1 <code>是一棵二叉搜索树</code></h2><p>那么从树根开始：</p>
<ul>
<li>如果当前结点t 大于结点u、v，说明u、v都在t 的左侧，所以它们的共同祖先必定在t 的左子树中，故从t 的左子树中继续查找；</li>
<li>如果当前结点t 小于结点u、v，说明u、v都在t 的右侧，所以它们的共同祖先必定在t 的右子树中，故从t 的右子树中继续查找；</li>
<li>如果当前结点t 满足 u &lt;t &lt; v，说明u和v分居在t 的两侧，故当前结点t 即为最近公共祖先；</li>
</ul>
<h2 id="类型2-是一棵普通的树"><a href="#类型2-是一棵普通的树" class="headerlink" title="类型2 是一棵普通的树"></a>类型2 <code>是一棵普通的树</code></h2><p>树不一定是二叉树，每个结点都有一个指针指向它的父结点。于是我们可以从任何一个结点出发，得到一个到达树根结点的单向链表。因此这个问题转换为两个单向链表的第一个公共结点。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    ListNode* FindFirstCommonNode( ListNode *pHead1, ListNode *pHead2) &#123;</span><br><span class="line">            ListNode *p1 = pHead1;</span><br><span class="line">            ListNode *p2 = pHead2;</span><br><span class="line">            while(p1!=p2)&#123;</span><br><span class="line">                p1 = (p1==NULL ? pHead2 : p1-&gt;next);</span><br><span class="line">                p2 = (p2==NULL ? pHead1 : p2-&gt;next);</span><br><span class="line">                          &#125;</span><br><span class="line">                return p1;</span><br><span class="line">                &#125;</span><br><span class="line">    &#125;;</span><br></pre></td></tr></table></figure>
<h2 id="类型3-批量查询时-离线算法Tarjan"><a href="#类型3-批量查询时-离线算法Tarjan" class="headerlink" title="类型3 批量查询时-离线算法Tarjan"></a>类型3 <code>批量查询时-离线算法Tarjan</code></h2><p>不论我们所面对的二叉树是二叉查找树，或不是二叉查找树，都可以把求任意两个结点的最近公共祖先，当做是查询的问题，如果是只求一次，则是单次查询；如果要求多个任意两个结点的最近公共祖先，则相当于是批量查询。<br>涉及到批量查询的时候，我们可以借鉴离线处理的方式，这就引出了解决此LCA问题的Tarjan离线算法。<br>3.1、什么是Tarjan算法<br>Tarjan算法 （以发现者Robert Tarjan命名）是一个在图中寻找强连通分量的算法。算法的基本思想为：任选一结点开始进行深度优先搜索dfs（若深度优先搜索结束后仍有未访问的结点，则再从中任选一点再次进行）。搜索过程中已访问的结点不再访问。搜索树的若干子树构成了图的强连通分量。<br>应用到要解决的LCA问题上，则是：对于新搜索到的一个结点u，先创建由u构成的集合，再对u的每颗子树进行搜索，每搜索完一棵子树，这时候子树中所有的结点的最近公共祖先就是u了。</p>
<p><img src="http://img.blog.csdn.net/20140116174819390" alt="例子"></p>
<p>假设遍历完10的孩子,要处理关于10的请求了，取根节点到当前正在遍历的节点的路径为关键路径,即1-3-8-10，集合的祖先便是关键路径上距离集合最近的点。<br>比如：</p>
<ul>
<li>1，2，5，6为一个集合,祖先为1，集合中点和10的LCA为1</li>
<li>3，7为一个集合，祖先为3，集合中点和10的LCA为3</li>
<li>8，9，11为一个集合，祖先为8，集合中点和10的LCA为8</li>
<li>10，12为一个集合，祖先为10，集合中点和10的LCA为10<br>得出的结论便是：LCA(u,v)便是根至u的路径上到节点v最近的点。</li>
</ul>
<h2 id="类型4-批量查询时-线段树-Segment-Tree"><a href="#类型4-批量查询时-线段树-Segment-Tree" class="headerlink" title="类型4 批量查询时-线段树(Segment Tree)"></a>类型4 <code>批量查询时-线段树(Segment Tree)</code></h2><p>线段树的建造：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initialize</span><span class="params">(<span class="keyword">int</span> node, <span class="keyword">int</span> b, <span class="keyword">int</span> e, <span class="keyword">int</span> M[MAXIND], <span class="keyword">int</span> A[MAXN], <span class="keyword">int</span> N)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (b == e)</span><br><span class="line">M[node] = b;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//compute the values in the left and right subtrees</span></span><br><span class="line">initialize(<span class="number">2</span> * node, b, (b + e) / <span class="number">2</span>, M, A, N);</span><br><span class="line">initialize(<span class="number">2</span> * node + <span class="number">1</span>, (b + e) / <span class="number">2</span> + <span class="number">1</span>, e, M, A, N);</span><br><span class="line"></span><br><span class="line"><span class="comment">//search for the minimum value in the first and</span></span><br><span class="line"><span class="comment">//second half of the interval</span></span><br><span class="line"><span class="keyword">if</span> (A[M[<span class="number">2</span> * node]] &lt;= A[M[<span class="number">2</span> * node + <span class="number">1</span>]])</span><br><span class="line">M[node] = M[<span class="number">2</span> * node];</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">M[node] = M[<span class="number">2</span> * node + <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>线段树的查询<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> node, <span class="keyword">int</span> b, <span class="keyword">int</span> e, <span class="keyword">int</span> M[MAXIND], <span class="keyword">int</span> A[MAXN], <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> p1, p2;</span><br><span class="line"><span class="comment">//if the current interval doesn't intersect</span></span><br><span class="line"><span class="comment">//the query interval return -1</span></span><br><span class="line"><span class="keyword">if</span> (i &gt; e || j &lt; b)</span><br><span class="line"><span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//if the current interval is included in</span></span><br><span class="line"><span class="comment">//the query interval return M[node]</span></span><br><span class="line"><span class="keyword">if</span> (b &gt;= i &amp;&amp; e &lt;= j)</span><br><span class="line"><span class="keyword">return</span> M[node];</span><br><span class="line"></span><br><span class="line"><span class="comment">//compute the minimum position in the</span></span><br><span class="line"><span class="comment">//left and right part of the interval</span></span><br><span class="line">p1 = query(<span class="number">2</span> * node, b, (b + e) / <span class="number">2</span>, M, A, i, j);</span><br><span class="line">p2 = query(<span class="number">2</span> * node + <span class="number">1</span>, (b + e) / <span class="number">2</span> + <span class="number">1</span>, e, M, A, i, j);</span><br><span class="line"></span><br><span class="line"><span class="comment">//return the position where the overall</span></span><br><span class="line"><span class="comment">//minimum is</span></span><br><span class="line"><span class="keyword">if</span> (p1 == <span class="number">-1</span>)</span><br><span class="line"><span class="keyword">return</span> M[node] = p2;</span><br><span class="line"><span class="keyword">if</span> (p2 == <span class="number">-1</span>)</span><br><span class="line"><span class="keyword">return</span> M[node] = p1;</span><br><span class="line"><span class="keyword">if</span> (A[p1] &lt;= A[p2])</span><br><span class="line"><span class="keyword">return</span> M[node] = p1;</span><br><span class="line"><span class="keyword">return</span> M[node] = p2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/02/13/Least-Common-Ancester/" data-id="cjdsc9vnk000btsf2iwz4r0en" class="article-share-link">Teilen</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Cracking-the-Interview/">Cracking the Interview</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Big-Data-Process" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/13/Big-Data-Process/" class="article-date">
  <time datetime="2018-02-14T05:12:06.000Z" itemprop="datePublished">2018-02-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/13/Big-Data-Process/">Big Data Process</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="海量数据处理（一）"><a href="#海量数据处理（一）" class="headerlink" title="海量数据处理（一）"></a>海量数据处理（一）</h1><h2 id="分而治之-Hash映射-Hash-map统计-堆-快速-归并排序"><a href="#分而治之-Hash映射-Hash-map统计-堆-快速-归并排序" class="headerlink" title="分而治之/Hash映射 + Hash_map统计 + 堆/快速/归并排序"></a>分而治之/Hash映射 + Hash_map统计 + 堆/快速/归并排序</h2><p>参考自 <a href="http://blog.csdn.net/v_july_v/article/details/7382693" target="_blank" rel="noopener">海量数据处理</a><br>    1、海量日志数据，提取出某日访问百度次数最多的那个IP。<br>    2、寻找热门查询，300万个查询字符串中统计最热门的10个查询<br>    3、有一个1G大小的一个文件，里面每一行是一个词，词的大小不超过16字节，内存限制大小是1M。返回频数最高的100个词。<br>    4、海量数据分布在100台电脑中，想个办法高效统计出这批数据的TOP10。<br>    5、 有10个文件，每个文件1G，每个文件的每一行存放的都是用户的query，每个文件的query都可能重复。要求你按照query的频度排序。<br>    6、给定a、b两个文件，各存放50亿个url，每个url各占64字节，内存限制是4G，让你找出a、b文件共同的url.</p>
<h3 id="1、海量日志数据，提取出某日访问百度次数最多的那个IP。"><a href="#1、海量日志数据，提取出某日访问百度次数最多的那个IP。" class="headerlink" title="1、海量日志数据，提取出某日访问百度次数最多的那个IP。"></a>1、海量日志数据，提取出某日访问百度次数最多的那个IP。</h3><p>分而治之/hash映射：针对数据太大，内存受限，只能是：把大文件化成(取模映射)小文件，即16字方针：大而化小，各个击破，缩小规模，逐个解决<br>hash_map统计：当大文件转化了小文件，那么我们便可以采用常规的hash_map(ip，value)来进行频率统计。<br>堆/快速排序：统计完了之后，便进行排序(可采取堆排序)，得到次数最多的IP。</p>
<h3 id="2、寻找热门查询，300万个查询字符串中统计最热门的10个查询"><a href="#2、寻找热门查询，300万个查询字符串中统计最热门的10个查询" class="headerlink" title="2、寻找热门查询，300万个查询字符串中统计最热门的10个查询"></a>2、寻找热门查询，300万个查询字符串中统计最热门的10个查询</h3><p>原题：搜索引擎会通过日志文件把用户每次检索使用的所有检索串都记录下来，每个查询串的长度为1-255字节。假设目前有一千万个记录（这些查询串的重复度比较高，虽然总数是1千万，但如果除去重复后，不超过3百万个。一个查询串的重复度越高，说明查询它的用户越多，也就是越热门），请你统计最热门的10个查询串，要求使用的内存不能超过1G。</p>
<p>解答：由上面第1题，我们知道，数据大则划为小的，如如一亿个Ip求Top 10，可先%1000将ip分到1000个小文件中去，并保证一种ip只出现在一个文件中，再对每个小文件中的ip进行hashmap计数统计并按数量排序，最后归并或者最小堆依次处理每个小文件的top10以得到最后的结。</p>
<p>但如果数据规模比较小，能一次性装入内存呢?比如这第2题，虽然有一千万个Query，但是由于重复度比较高，因此事实上只有300万的Query，每个Query255Byte，因此我们可以考虑把他们都放进内存中去（300万个字符串假设没有重复，都是最大长度，那么最多占用内存3M<em>1K/4=0.75G。所以可以将所有字符串都存放在内存中进行处理），而现在只是需要一个合适的数据结构，在这里，HashTable绝对是我们优先的选择。<br>所以我们放弃分而治之/hash映射的步骤，直接上hash统计，然后排序。So，针对此类典型的TOP K问题，采取的对策往往是：hashmap + 堆。如下所示：<br>hash_map统计：先对这批海量数据预处理。具体方法是：维护一个Key为Query字串，Value为该Query出现次数的HashTable，即hash_map(Query，Value)，每次读取一个Query，如果该字串不在Table中，那么加入该字串，并且将Value值设为1；如果该字串在Table中，那么将该字串的计数加一即可。最终我们在O(N)的时间复杂度内用Hash表完成了统计；<br>堆排序：第二步、借助堆这个数据结构，找出Top K，时间复杂度为N‘logK。即借助堆结构，我们可以在log量级的时间内查找和调整/移动。因此，维护一个K(该题目中是10)大小的小根堆，然后遍历300万的Query，分别和根元素进行对比。所以，我们最终的时间复杂度是：O（N） + N’ </em> O（logK），（N为1000万，N’为300万）。<br>别忘了这篇文章中所述的堆排序思路：“维护k个元素的最小堆，即用容量为k的最小堆存储最先遍历到的k个数，并假设它们即是最大的k个数，建堆费时O（k），并调整堆(费时O（logk）)后，有k1&gt;k2&gt;…kmin（kmin设为小顶堆中最小元素）。继续遍历数列，每次遍历一个元素x，与堆顶元素比较，若x&gt;kmin，则更新堆（x入堆，用时logk），否则不更新堆。这样下来，总费时O（k<em>logk+（n-k）</em>logk）=O（n*logk）。此方法得益于在堆中，查找等各项操作时间复杂度均为logk。”</p>
<h3 id="3、有一个1G大小的一个文件，里面每一行是一个词，词的大小不超过16字节，内存限制大小是1M。返回频数最高的100个词。"><a href="#3、有一个1G大小的一个文件，里面每一行是一个词，词的大小不超过16字节，内存限制大小是1M。返回频数最高的100个词。" class="headerlink" title="3、有一个1G大小的一个文件，里面每一行是一个词，词的大小不超过16字节，内存限制大小是1M。返回频数最高的100个词。"></a>3、有一个1G大小的一个文件，里面每一行是一个词，词的大小不超过16字节，内存限制大小是1M。返回频数最高的100个词。</h3><p>由上面那两个例题，分而治之 + hash统计 + 堆/快速排序这个套路，我们已经开始有了屡试不爽的感觉。下面，再拿几道再多多验证下。请看此第3题：又是文件很大，又是内存受限，咋办?还能怎么办呢?无非还是：<br>分而治之/hash映射：顺序读文件中，对于每个词x，取hash(x)%5000，然后按照该值存到5000个小文件（记为x0,x1,…x4999）中。这样每个文件大概是200k左右。如果其中的有的文件超过了1M大小，还可以按照类似的方法继续往下分，直到分解得到的小文件的大小都不超过1M。<br>hash_map统计：对每个小文件，采用trie树/hash_map等统计每个文件中出现的词以及相应的频率。<br>堆/归并排序：取出出现频率最大的100个词（可以用含100个结点的最小堆）后，再把100个词及相应的频率存入文件，这样又得到了5000个文件。最后就是把这5000个文件进行归并（类似于归并排序）的过程了。</p>
<h3 id="4、海量数据分布在100台电脑中，想个办法高效统计出这批数据的TOP10。"><a href="#4、海量数据分布在100台电脑中，想个办法高效统计出这批数据的TOP10。" class="headerlink" title="4、海量数据分布在100台电脑中，想个办法高效统计出这批数据的TOP10。"></a>4、海量数据分布在100台电脑中，想个办法高效统计出这批数据的TOP10。</h3><p>如果每个数据元素只出现一次，而且只出现在某一台机器中，那么可以采取以下步骤统计出现次数TOP10的数据元素：<br>堆排序：在每台电脑上求出TOP10，可以采用包含10个元素的堆完成（TOP10小，用最大堆，TOP10大，用最小堆，比如求TOP10大，我们首先取前10个元素调整成最小堆，如果发现，然后扫描后面的数据，并与堆顶元素比较，如果比堆顶元素大，那么用该元素替换堆顶，然后再调整为最小堆。最后堆中的元素就是TOP10大）。<br>求出每台电脑上的TOP10后，然后把这100台电脑上的TOP10组合起来，共1000个数据，再利用上面类似的方法求出TOP10就可以了。</p>
<h3 id="5、有10个文件，每个文件1G，每个文件的每一行存放的都是用户的query，每个文件的query都可能重复。要求你按照query的频度排序。"><a href="#5、有10个文件，每个文件1G，每个文件的每一行存放的都是用户的query，每个文件的query都可能重复。要求你按照query的频度排序。" class="headerlink" title="5、有10个文件，每个文件1G，每个文件的每一行存放的都是用户的query，每个文件的query都可能重复。要求你按照query的频度排序。"></a>5、有10个文件，每个文件1G，每个文件的每一行存放的都是用户的query，每个文件的query都可能重复。要求你按照query的频度排序。</h3><p>方案1：直接上：<br>hash映射：顺序读取10个文件，按照hash(query)%10的结果将query写入到另外10个文件（记为a0,a1,..a9）中。这样新生成的文件每个的大小大约也1G（假设hash函数是随机的）。<br>hash_map统计：找一台内存在2G左右的机器，依次对用hash_map(query, query_count)来统计每个query出现的次数。注：hash_map(query,query_count)是用来统计每个query的出现次数，不是存储他们的值，出现一次，则count+1。<br>堆/快速/归并排序：利用快速/堆/归并排序按照出现次数进行排序，将排序好的query和对应的query_cout输出到文件中，这样得到了10个排好序的文件（记为）。最后，对这10个文件进行归并排序（内排序与外排序相结合）。</p>
<h3 id="6、-给定a、b两个文件，各存放50亿个url，每个url各占64字节，内存限制是4G，让你找出a、b文件共同的url？"><a href="#6、-给定a、b两个文件，各存放50亿个url，每个url各占64字节，内存限制是4G，让你找出a、b文件共同的url？" class="headerlink" title="6、 给定a、b两个文件，各存放50亿个url，每个url各占64字节，内存限制是4G，让你找出a、b文件共同的url？"></a>6、 给定a、b两个文件，各存放50亿个url，每个url各占64字节，内存限制是4G，让你找出a、b文件共同的url？</h3><p>可以估计每个文件安的大小为5G×64=320G，远远大于内存限制的4G。所以不可能将其完全加载到内存中处理。考虑采取分而治之的方法。<br>分而治之/hash映射：遍历文件a，对每个url求取，然后根据所取得的值将url分别存储到1000个小文件（记为，这里漏写个了a1）中。这样每个小文件的大约为300M。遍历文件b，采取和a相同的方式将url分别存储到1000小文件中（记为）。这样处理后，所有可能相同的url都在对应的小文件（）中，不对应的小文件不可能有相同的url。然后我们只要求出1000对小文件中相同的url即可。<br>hash_set统计：求每对小文件中相同的url时，可以把其中一个小文件的url存储到hash_set中。然后遍历另一个小文件的每个url，看其是否在刚才构建的hash_set中，如果是，那么就是共同的url，存到文件里面就可以了。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/02/13/Big-Data-Process/" data-id="cjdsc9vmv0001tsf2fx16nxcm" class="article-share-link">Teilen</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Big-Data/">Big Data</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Leetcode-016" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/12/Leetcode-016/" class="article-date">
  <time datetime="2018-02-13T00:29:25.000Z" itemprop="datePublished">2018-02-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/12/Leetcode-016/">Leetcode-016</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Use 3 pointers to point current element, next element and the last element. If the sum is less than target, it means we have to add a larger element so next element move to the next. If the sum is greater, it means we have to add a smaller element so last element move to the second last element. Keep doing this until the end. Each time compare the difference between sum and target, if it is less than minimum difference so far, then replace result with it, otherwise keep iterating.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Leetcode_016_3SumClosest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">threeSumClosest</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n = nums.length;</span><br><span class="line"><span class="keyword">int</span> res = nums[<span class="number">0</span>] + nums[<span class="number">1</span>] + nums[n-<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">Arrays.sort(nums);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n - <span class="number">2</span>;i++)&#123;</span><br><span class="line"><span class="keyword">int</span> start = i+<span class="number">1</span>, end = n - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span>(start &lt; end)&#123;</span><br><span class="line"><span class="keyword">int</span> tmp = nums[i] + nums[start] + nums[end];</span><br><span class="line"><span class="keyword">if</span>(tmp &gt; target)&#123;</span><br><span class="line">end--;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(tmp &lt; target)&#123;</span><br><span class="line">start++;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">return</span> target;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(Math.abs(tmp - target) &lt; Math.abs(res - target)) res = tmp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/02/12/Leetcode-016/" data-id="cjdsc9vnl000dtsf2688hs1lr" class="article-share-link">Teilen</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Leetcode/">Leetcode</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Leetcode-229" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/12/Leetcode-229/" class="article-date">
  <time datetime="2018-02-13T00:29:17.000Z" itemprop="datePublished">2018-02-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/12/Leetcode-229/">Leetcode-229</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>##<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Leetcode_229_MajorityElement2</span> </span>&#123;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">majorityElement</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">List&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> num1 = nums[<span class="number">0</span>], num2 = nums[<span class="number">0</span>], count1 = <span class="number">0</span>, count2 = <span class="number">0</span>, len = nums.length;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; len;i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(nums[i] == num1) count1++;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(nums[i] == num2) count2++;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(count1 == <span class="number">0</span>)&#123;</span><br><span class="line">num1 = nums[i];</span><br><span class="line">count1 = <span class="number">1</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(count2 == <span class="number">0</span>)&#123;</span><br><span class="line">num2 = nums[i];</span><br><span class="line">count2 = <span class="number">1</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">count1--;</span><br><span class="line">count2--;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">count1 = <span class="number">0</span>;</span><br><span class="line">count2 = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> num : nums)&#123;</span><br><span class="line"><span class="keyword">if</span>(num == num1) count1++;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(num == num2) count2++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(count1 &gt; len/<span class="number">3</span>) res.add(num1);</span><br><span class="line"><span class="keyword">if</span>(count2 &gt; len/<span class="number">3</span>) res.add(num2);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/02/12/Leetcode-229/" data-id="cjdsc9vnz000otsf2k5mcmsty" class="article-share-link">Teilen</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Leetcode/">Leetcode</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">weiter &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Big-Data/">Big Data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Cracking-the-Interview/">Cracking the Interview</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Deep-Learning/">Deep Learning</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM/">JVM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java-Project/">Java Project</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Leetcode/">Leetcode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP/">PHP</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Big-Data/" style="font-size: 10px;">Big Data</a> <a href="/tags/Cracking-the-Interview/" style="font-size: 13.33px;">Cracking the Interview</a> <a href="/tags/Deep-Learning/" style="font-size: 16.67px;">Deep Learning</a> <a href="/tags/JVM/" style="font-size: 10px;">JVM</a> <a href="/tags/Java-Project/" style="font-size: 13.33px;">Java Project</a> <a href="/tags/Leetcode/" style="font-size: 20px;">Leetcode</a> <a href="/tags/PHP/" style="font-size: 13.33px;">PHP</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archiv</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">letzter Beitrag</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/02/17/Basic-Knowledge/">Basic Knowledge</a>
          </li>
        
          <li>
            <a href="/2018/02/17/GBDT-梯度下降树/">GBDT 梯度下降树</a>
          </li>
        
          <li>
            <a href="/2018/02/17/Deep-Learning-2/">Deep Learning(2)</a>
          </li>
        
          <li>
            <a href="/2018/02/17/Deep-Learning-1/">Deep Learning(1)</a>
          </li>
        
          <li>
            <a href="/2018/02/17/PHP-Tutorial/">PHP_Tutorial</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 Mengzhuo You<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>